#!/bin/bash

# Mac OSX specific application alias.
alias studio='open -a /Applications/Android\ Studio.app'
alias rmine='open -a /Applications/RubyMine.app'
alias goland='open -a /Applications/GoLand.app'
alias bsl='brew services ls'
alias bsr='brew services restart'
alias bss='brew services start'
alias bsx='brew services stop'

function portscan()
{
  lsof -i :"$1"
}
alias portscan='portscan'

alias rsp='run_rspec'
function run_rspec()
{
  rspec ./"$1"
}

export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"

# ioreg -l -w 0 \
#     | perl -nle 'print $1 if /"kCGSSessionSecureInputPID"=(\d+)/' \
#     | uniq \
#     | xargs -I{} ps -p {} -o comm=

export RSTUDIO_PANDOC=/Applications/RStudio.app/Contents/MacOS/pandoc

# Add RVM to PATH for scripting. Make sure this is the last PATH variable change.
export PATH="$PATH:$HOME/.rvm/bin"

function update_simple_bar()
{
  present_dir=$(pwd)
  cd $HOME/Library/Application\ Support/Ãœbersicht/widgets/simple-bar || return
  git fetch
  git reset --hard origin/master
  echo "simple-bar is updated!!"
  osascript -e 'tell application id "tracesOf.Uebersicht" to refresh widget id "simple-bar-process-jsx"'
  osascript -e 'tell application id "tracesOf.Uebersicht" to refresh widget id "simple-bar-data-jsx"'
  osascript -e 'tell application id "tracesOf.Uebersicht" to refresh widget id "simple-bar-spaces-jsx"'
  cd "$present_dir" || exit
}

# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
__conda_setup="$('/Users/anujchandra/opt/anaconda3/bin/conda' 'shell.zsh' 'hook' 2> /dev/null)"
if [ $? -eq 0 ]; then
    eval "$__conda_setup"
else
    if [ -f "/Users/anujchandra/opt/anaconda3/etc/profile.d/conda.sh" ]; then
        . "/Users/anujchandra/opt/anaconda3/etc/profile.d/conda.sh"
    else
        export PATH="/Users/anujchandra/opt/anaconda3/bin:$PATH"
    fi
fi
unset __conda_setup
# <<< conda initialize <<<